/*! Raven.js 1.1.2 (b2c540e) | github.com/getsentry/raven-js */

/*
 * Includes TraceKit
 * https://github.com/getsentry/TraceKit
 *
 * Copyright 2013 Matt Robenolt and other contributors
 * Released under the BSD license
 * https://github.com/getsentry/raven-js/blob/master/LICENSE
 *
 */

/*
 TraceKit - Cross brower stack traces - github.com/occ/TraceKit
 MIT license
*/

(function(e,t){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){return typeof e=="undefined"}var n={},r=e.TraceKit,i=[].slice,s="?";n.noConflict=function(){return e.TraceKit=r,n},n.wrap=function(t){function r(){try{return t.apply(this,arguments)}catch(e){throw n.report(e),e}}return r},n.report=function(){function a(e){d(),r.push(e)}function f(e){for(var t=r.length-1;t>=0;--t)r[t]===e&&r.splice(t,1)}function l(e,t){var s=null;if(t&&!n.collectWindowErrors)return;for(var u in r)if(o(r,u))try{r[u].apply(null,[e].concat(i.call(arguments,2)))}catch(a){s=a}if(s)throw s}function p(e,t,r){var i=null;if(u)n.computeStackTrace.augmentStackTraceWithInitialElement(u,t,r,e),i=u,u=null,s=null;else{var o={url:t,line:r};o.func=n.computeStackTrace.guessFunctionName(o.url,o.line),o.context=n.computeStackTrace.gatherContext(o.url,o.line),i={mode:"onerror",message:e,url:document.location.href,stack:[o],useragent:navigator.userAgent}}return l(i,"from window.onerror"),c?c.apply(this,arguments):!1}function d(){if(h===!0)return;c=e.onerror,e.onerror=p,h=!0}function v(t){var r=i.call(arguments,1);if(u){if(s===t)return;var o=u;u=null,s=null,l.apply(null,[o,null].concat(r))}var a=n.computeStackTrace(t);throw u=a,s=t,e.setTimeout(function(){s===t&&(u=null,s=null,l.apply(null,[a,null].concat(r)))},a.incomplete?2e3:0),t}var r=[],s=null,u=null,c,h;return v.subscribe=a,v.unsubscribe=f,v}(),n.computeStackTrace=function(){function a(t){if(!n.remoteFetching)return"";try{function r(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}}var i=r();return i.open("GET",t,!1),i.send(""),i.responseText}catch(s){return""}}function f(e){if(!o(i,e)){var t="";e.indexOf(document.domain)!==-1&&(t=a(e)),i[e]=t?t.split("\n"):[]}return i[e]}function l(e,t){var n=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",o=10,a=f(e),l;if(!a.length)return s;for(var c=0;c<o;++c){i=a[t-c]+i;if(!u(i)){if(l=r.exec(i))return l[1];if(l=n.exec(i))return l[1]}}return s}function c(e,t){var r=f(e);if(!r.length)return null;var i=[],s=Math.floor(n.linesOfContext/2),o=s+n.linesOfContext%2,a=Math.max(0,t-s-1),l=Math.min(r.length,t+o-1);t-=1;for(var c=a;c<l;++c)u(r[c])||i.push(r[c]);return i.length>0?i:null}function h(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function p(e){return h(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function d(e,t){var n,r;for(var i=0,s=t.length;i<s;++i)if((n=f(t[i])).length){n=n.join("\n");if(r=e.exec(n))return{url:t[i],line:n.substring(0,r.index).split("\n").length,column:r.index-n.lastIndexOf("\n",r.index)-1}}return null}function v(e,t,n){var r=f(t),i=new RegExp("\\b"+h(e)+"\\b"),s;return n-=1,r&&r.length>n&&(s=i.exec(r[n]))?s.index:null}function m(t){var n=[e.location.href],r=document.getElementsByTagName("script"),i,s=""+t,o=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,u=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,a,f,l;for(var c=0;c<r.length;++c){var v=r[c];v.src&&n.push(v.src)}if(!(f=o.exec(s)))a=new RegExp(h(s).replace(/\s+/g,"\\s+"));else{var m=f[1]?"\\s+"+f[1]:"",g=f[2].split(",").join("\\s*,\\s*");i=h(f[3]).replace(/;$/,";?"),a=new RegExp("function"+m+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+i+"\\s*}")}if(l=d(a,n))return l;if(f=u.exec(s)){var y=f[1];i=p(f[2]),a=new RegExp("on"+y+"=[\\'\"]\\s*"+i+"\\s*[\\'\"]","i");if(l=d(a,n[0]))return l;a=new RegExp(i);if(l=d(a,n))return l}return null}function g(e){if(!e.stack)return null;var t=/^\s*at (?:((?:\[object object\])?\S+) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,r=e.stack.split("\n"),i=[],o,u,a=/^(.*) is undefined$/.exec(e.message);for(var f=0,h=r.length;f<h;++f){if(o=n.exec(r[f]))u={url:o[3],func:o[1]||s,args:o[2]?o[2].split(","):"",line:+o[4],column:o[5]?+o[5]:null};else{if(!(o=t.exec(r[f])))continue;u={url:o[2],func:o[1]||s,line:+o[3],column:o[4]?+o[4]:null}}!u.func&&u.line&&(u.func=l(u.url,u.line)),u.line&&(u.context=c(u.url,u.line)),i.push(u)}return i[0]&&i[0].line&&!i[0].column&&a&&(i[0].column=v(a[1],i[0].url,i[0].line)),i.length?{mode:"stack",name:e.name,message:e.message,url:document.location.href,stack:i,useragent:navigator.userAgent}:null}function y(e){var t=e.stacktrace,n=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,r=t.split("\n"),i=[],s;for(var o=0,u=r.length;o<u;o+=2)if(s=n.exec(r[o])){var a={line:+s[1],column:+s[2],func:s[3]||s[4],args:s[5]?s[5].split(","):[],url:s[6]};!a.func&&a.line&&(a.func=l(a.url,a.line));if(a.line)try{a.context=c(a.url,a.line)}catch(f){}a.context||(a.context=[r[o+1]]),i.push(a)}return i.length?{mode:"stacktrace",name:e.name,message:e.message,url:document.location.href,stack:i,useragent:navigator.userAgent}:null}function b(t){var n=t.message.split("\n");if(n.length<4)return null;var r=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,u=[],a=document.getElementsByTagName("script"),h=[],v,m,g,y;for(m in a)o(a,m)&&!a[m].src&&h.push(a[m]);for(m=2,g=n.length;m<g;m+=2){var b=null;if(v=r.exec(n[m]))b={url:v[2],func:v[3],line:+v[1]};else if(v=i.exec(n[m])){b={url:v[3],func:v[4]};var w=+v[1],E=h[v[2]-1];if(E){y=f(b.url);if(y){y=y.join("\n");var S=y.indexOf(E.innerText);S>=0&&(b.line=w+y.substring(0,S).split("\n").length)}}}else if(v=s.exec(n[m])){var x=e.location.href.replace(/#.*$/,""),T=v[1],N=new RegExp(p(n[m+1]));y=d(N,[x]),b={url:x,line:y?y.line:T,func:""}}if(b){b.func||(b.func=l(b.url,b.line));var C=c(b.url,b.line),k=C?C[Math.floor(C.length/2)]:null;C&&k.replace(/^\s*/,"")===n[m+1].replace(/^\s*/,"")?b.context=C:b.context=[n[m+1]],u.push(b)}}return u.length?{mode:"multiline",name:t.name,message:n[0],url:document.location.href,stack:u,useragent:navigator.userAgent}:null}function w(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=l(i.url,i.line)),i.context||(i.context=c(i.url,i.line));var s=/ '([^']+)' /.exec(r);s&&(i.column=v(s[1],i.url,i.line));if(e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function E(e,t){var r=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],o={},u=!1,a,f,c;for(var h=E.caller;h&&!u;h=h.caller){if(h===S||h===n.report)continue;f={url:null,func:s,line:null,column:null};if(h.name)f.func=h.name;else if(a=r.exec(h.toString()))f.func=a[1];if(c=m(h)){f.url=c.url,f.line=c.line,f.func===s&&(f.func=l(f.url,f.line));var p=/ '([^']+)' /.exec(e.message||e.description);p&&(f.column=v(p[1],c.url,c.line))}o[""+h]?u=!0:o[""+h]=!0,i.push(f)}t&&i.splice(0,t);var d={mode:"callers",name:e.name,message:e.message,url:document.location.href,stack:i,useragent:navigator.userAgent};return w(d,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),d}function S(e,t){var n=null;t=t==null?0:+t;try{n=y(e);if(n)return n}catch(i){if(r)throw i}try{n=g(e);if(n)return n}catch(i){if(r)throw i}try{n=b(e);if(n)return n}catch(i){if(r)throw i}try{n=E(e,t+1);if(n)return n}catch(i){if(r)throw i}return{mode:"failed"}}function x(e){e=(e==null?0:+e)+1;try{throw new Error}catch(t){return S(t,e+1)}return null}var r=!1,i={};return S.augmentStackTraceWithInitialElement=w,S.guessFunctionName=l,S.gatherContext=c,S.ofCaller=x,S}(),n.remoteFetching||(n.remoteFetching=!0),n.collectWindowErrors||(n.collectWindowErrors=!0);if(!n.linesOfContext||n.linesOfContext<1)n.linesOfContext=7;e.TraceKit=n})(window),function(e,t){"use strict";function h(e,t){var n,r;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(i){}}function v(e){this.name="RavenConfigError",this.message=e}function m(e){var t=d.exec(e),n={},r=7;try{while(r--)n[p[r]]=t[r]||""}catch(i){throw new v("Invalid DSN: "+e)}if(n.pass)throw new v("Do not specify your private key in the DSN!");return n}function g(e){return typeof e=="undefined"}function y(e){return typeof e=="function"}function b(e){return typeof e=="string"}function w(e,t){var n,r;if(g(e.length))for(n in e)e.hasOwnProperty(n)&&t.call(null,n,e[n]);else{r=e.length;if(r)for(n=0;n<r;n++)t.call(null,n,e[n])}}function S(){if(E)return E;var e=["sentry_version=4","sentry_client=raven-js/"+c.VERSION];return u&&e.push("sentry_key="+u),E="?"+e.join("&"),E}function x(e,t){var n=[];e.stack&&e.stack.length&&w(e.stack,function(e,t){var r=T(t);r&&n.push(r)}),h("handle",{stackInfo:e,options:t}),C(e.name,e.message,e.url,e.lineno,n,t)}function T(e){if(!e.url)return;var t={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},n=N(e),r;if(n){var i=["pre_context","context_line","post_context"];r=3;while(r--)t[i[r]]=n[r]}return t.in_app=!(!f.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)js$/.test(t.filename)),t}function N(e){if(!e.context||!f.fetchContext)return;var t=e.context,n=~~(t.length/2),r=t.length,i=!1;while(r--)if(t[r].length>300){i=!0;break}if(i){if(g(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}function C(e,t,n,r,i,s){var o,u,a;if(!t)return;if(f.ignoreErrors.test(t))return;i&&i.length?(o={frames:i},n=n||i[0].filename):n&&(o={frames:[{filename:n,lineno:r}]});if(f.ignoreUrls&&f.ignoreUrls.test(n))return;if(f.whitelistUrls&&!f.whitelistUrls.test(n))return;u=r?t+" at "+r:t,A(k({exception:{type:e,value:t},stacktrace:o,culprit:n,message:u},s))}function k(e,t){return t?(w(t,function(t,n){e[t]=n}),e):e}function L(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function A(e){if(!M())return;e=k({project:a,logger:f.logger,site:f.site,platform:"javascript",request:L()},e),e.tags=k(f.tags,e.tags),e.extra=k(f.extra,e.extra),e.tags||delete e.tags,e.extra||delete e.extra,o&&(e.user=o),y(f.dataCallback)&&(e=f.dataCallback(e));if(y(f.shouldSendCallback)&&!f.shouldSendCallback(e))return;O(e)}function O(e){var t=new Image,n=s+S()+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function(){h("success",{data:e,src:n})},t.onerror=t.onabort=function(){h("failure",{data:e,src:n})},t.src=n}function M(){return r?s?!0:(e.console&&console.error&&console.error("Error: Raven has not been configured."),!1):!1}function _(e){var t=[],n=e.length;while(n--)t[n]=b(e[n])?e[n].replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"):e[n].source;return new RegExp(t.join("|"),"i")}var n=e.Raven,r=!!e.JSON&&!!e.JSON.stringify,i,s,o,u,a,f={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},l=TraceKit.noConflict();l.remoteFetching=!1;var c={VERSION:"1.1.2",TraceKit:l,afterLoad:function(){var t=e.RavenConfig;t&&this.config(t.dsn,t.config).install()},noConflict:function(){return e.Raven=n,c},config:function(e,t){var n=m(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);return t&&w(t,function(e,t){f[e]=t}),f.ignoreErrors.push("Script error."),f.ignoreErrors.push("Script error"),f.ignoreErrors=_(f.ignoreErrors),f.ignoreUrls=f.ignoreUrls.length?_(f.ignoreUrls):!1,f.whitelistUrls=f.whitelistUrls.length?_(f.whitelistUrls):!1,f.includePaths=_(f.includePaths),u=n.user,a=~~n.path.substr(r+1),s="//"+n.host+(n.port?":"+n.port:"")+"/"+i+"api/"+a+"/store/",n.protocol&&(s=n.protocol+":"+s),f.fetchContext&&(l.remoteFetching=!0),f.linesOfContext&&(l.linesOfContext=f.linesOfContext),l.collectWindowErrors=!!f.collectWindowErrors,c},install:function(){if(!M())return;return l.report.subscribe(x),c},context:function(e,n,r){return y(e)&&(r=n||[],n=e,e=t),c.wrap(e,n).apply(this,r)},wrap:function(e,n){function r(){var t=[],r=arguments.length;while(r--)t[r]=c.wrap(e,arguments[r]);try{return n.apply(this,t)}catch(i){throw c.captureException(i,e),i}}if(g(n)&&!y(e))return e;y(e)&&(n=e,e=t);if(!y(n))return n;if(n.__raven__)return n;for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.__raven__=!0,r},uninstall:function(){return l.report.unsubscribe(x),c},captureException:function(e,t){if(b(e))return c.captureMessage(e,t);i=e;try{l.report(e,t)}catch(n){if(e!==n)throw n}return c},captureMessage:function(e,t){return A(k({message:e},t)),c},setUser:function(e){return o=e,c},lastException:function(){return i}},p="source protocol user pass host port path".split(" "),d=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;v.prototype=new Error,v.prototype.constructor=v;var E;c.afterLoad(),e.Raven=c,typeof define=="function"&&define.amd&&define("raven",[],function(){return c.noConflict()})}(window),function(t,n){"use strict";var r=function(r){var i=t[r];t[r]=function(){var t=[].slice.call(arguments),r=t[0];return typeof r=="function"&&(t[0]=n.wrap(r)),i.apply?i.apply(this,t):i(t[0],t[1])}};r("setTimeout"),r("setInterval")}(this,Raven)